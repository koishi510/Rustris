// Korobeiniki (Tetris Theme)
// Structure: [AB, AB, C, AB] x4 = 512 beats

#[rustfmt::skip]
const SECTION_AB: &[(f32, f32, f32)] = &[
    (0.0, 0.50, 82.41),
    (0.0, 1.0, 493.88),
    (0.0, 1.0, 659.26),
    (0.50, 0.50, 164.81),
    (1.0, 0.50, 82.41),
    (1.0, 0.50, 415.30),
    (1.0, 0.50, 493.88),
    (1.50, 0.50, 164.81),
    (1.50, 0.50, 440.00),
    (1.50, 0.50, 523.25),
    (2.0, 0.50, 82.41),
    (2.0, 0.50, 493.88),
    (2.0, 0.50, 587.33),
    (2.50, 0.50, 164.81),
    (2.50, 0.50, 415.30),
    (2.50, 0.25, 659.26),
    (2.75, 0.25, 587.33),
    (3.0, 0.50, 82.41),
    (3.0, 0.50, 440.00),
    (3.0, 0.50, 523.25),
    (3.50, 0.50, 164.81),
    (3.50, 0.50, 415.30),
    (3.50, 0.50, 493.88),
    (4.0, 0.50, 110.00),
    (4.0, 1.0, 329.63),
    (4.0, 1.0, 440.00),
    (4.50, 0.50, 220.00),
    (5.0, 0.50, 110.00),
    (5.0, 0.50, 329.63),
    (5.0, 0.50, 440.00),
    (5.50, 0.50, 220.00),
    (5.50, 0.50, 440.00),
    (5.50, 0.50, 523.25),
    (6.0, 0.50, 110.00),
    (6.0, 1.0, 523.25),
    (6.0, 1.0, 659.26),
    (6.50, 0.50, 220.00),
    (7.0, 0.50, 110.00),
    (7.0, 0.50, 493.88),
    (7.0, 0.50, 587.33),
    (7.50, 0.50, 220.00),
    (7.50, 0.50, 440.00),
    (7.50, 0.50, 523.25),
    (8.0, 0.50, 103.83),
    (8.0, 1.0, 415.30),
    (8.0, 1.0, 493.88),
    (8.50, 0.50, 207.65),
    (9.0, 0.50, 103.83),
    (9.0, 0.50, 415.30),
    (9.0, 0.50, 493.88),
    (9.50, 0.50, 207.65),
    (9.50, 0.50, 440.00),
    (9.50, 0.50, 523.25),
    (10.0, 0.50, 82.41),
    (10.0, 1.0, 493.88),
    (10.0, 1.0, 587.33),
    (10.50, 0.50, 164.81),
    (11.0, 0.50, 82.41),
    (11.0, 1.0, 493.88),
    (11.0, 1.0, 659.26),
    (11.50, 0.50, 164.81),
    (12.0, 0.50, 110.00),
    (12.0, 1.0, 440.00),
    (12.0, 1.0, 523.25),
    (12.50, 0.50, 220.00),
    (13.0, 0.50, 110.00),
    (13.0, 1.0, 329.63),
    (13.0, 1.0, 440.00),
    (13.50, 0.50, 220.00),
    (14.0, 0.50, 110.00),
    (14.0, 2.0, 329.63),
    (14.0, 2.0, 440.00),
    (14.50, 0.50, 220.00),
    (15.0, 0.50, 110.00),
    (15.0, 0.50, 123.47),
    (15.50, 0.50, 130.81),
    (15.50, 0.50, 220.00),
    (16.0, 0.50, 73.42),
    (16.0, 0.50, 146.83),
    (16.50, 0.50, 146.83),
    (16.50, 1.0, 440.00),
    (16.50, 1.0, 587.33),
    (17.0, 0.50, 73.42),
    (17.50, 0.50, 146.83),
    (17.50, 0.50, 587.33),
    (17.50, 0.50, 698.46),
    (18.0, 0.50, 73.42),
    (18.0, 1.0, 698.46),
    (18.0, 1.0, 880.00),
    (18.50, 0.50, 146.83),
    (19.0, 0.50, 73.42),
    (19.0, 0.50, 659.26),
    (19.0, 0.50, 783.99),
    (19.50, 0.50, 146.83),
    (19.50, 0.50, 587.33),
    (19.50, 0.50, 698.46),
    (20.0, 0.50, 110.00),
    (20.0, 1.50, 523.25),
    (20.0, 1.50, 659.26),
    (20.50, 0.50, 220.00),
    (21.0, 0.50, 110.00),
    (21.50, 0.50, 220.00),
    (21.50, 0.50, 440.00),
    (21.50, 0.50, 523.25),
    (22.0, 0.50, 110.00),
    (22.0, 1.0, 440.00),
    (22.0, 1.0, 659.26),
    (22.50, 0.50, 220.00),
    (23.0, 0.50, 110.00),
    (23.0, 0.50, 493.88),
    (23.0, 0.50, 587.33),
    (23.50, 0.50, 220.00),
    (23.50, 0.50, 440.00),
    (23.50, 0.50, 523.25),
    (24.0, 0.50, 103.83),
    (24.0, 1.0, 415.30),
    (24.0, 1.0, 493.88),
    (24.50, 0.50, 207.65),
    (25.0, 0.50, 103.83),
    (25.0, 0.50, 415.30),
    (25.0, 0.50, 493.88),
    (25.50, 0.50, 207.65),
    (25.50, 0.50, 440.00),
    (25.50, 0.50, 523.25),
    (26.0, 0.50, 82.41),
    (26.0, 1.0, 493.88),
    (26.0, 1.0, 587.33),
    (26.50, 0.50, 164.81),
    (27.0, 0.50, 82.41),
    (27.0, 1.0, 493.88),
    (27.0, 1.0, 659.26),
    (27.50, 0.50, 164.81),
    (28.0, 0.50, 110.00),
    (28.0, 1.0, 440.00),
    (28.0, 1.0, 523.25),
    (28.50, 0.50, 220.00),
    (29.0, 0.50, 110.00),
    (29.0, 1.0, 329.63),
    (29.0, 1.0, 440.00),
    (29.50, 0.50, 220.00),
    (30.0, 0.50, 110.00),
    (30.0, 2.0, 329.63),
    (30.0, 2.0, 440.00),
    (30.50, 0.50, 220.00),
    (31.0, 0.50, 110.00),
    (31.50, 0.50, 220.00),
];

#[rustfmt::skip]
const SECTION_C: &[(f32, f32, f32)] = &[
    (0.0, 0.50, 110.00),
    (0.0, 2.0, 261.63),
    (0.0, 2.0, 329.63),
    (0.50, 0.50, 164.81),
    (1.0, 0.50, 110.00),
    (1.50, 0.50, 164.81),
    (2.0, 0.50, 110.00),
    (2.0, 2.0, 220.00),
    (2.0, 2.0, 261.63),
    (2.50, 0.50, 164.81),
    (3.0, 0.50, 110.00),
    (3.50, 0.50, 164.81),
    (4.0, 0.50, 103.83),
    (4.0, 2.0, 207.65),
    (4.0, 2.0, 293.66),
    (4.50, 0.50, 164.81),
    (5.0, 0.50, 103.83),
    (5.50, 0.50, 164.81),
    (6.0, 0.50, 103.83),
    (6.0, 2.0, 207.65),
    (6.0, 2.0, 246.94),
    (6.50, 0.50, 164.81),
    (7.0, 0.50, 103.83),
    (7.50, 0.50, 164.81),
    (8.0, 0.50, 110.00),
    (8.0, 2.0, 220.00),
    (8.0, 2.0, 261.63),
    (8.50, 0.50, 164.81),
    (9.0, 0.50, 110.00),
    (9.50, 0.50, 164.81),
    (10.0, 0.50, 110.00),
    (10.0, 2.0, 220.00),
    (10.50, 0.50, 164.81),
    (11.0, 0.50, 110.00),
    (11.50, 0.50, 164.81),
    (12.0, 0.50, 103.83),
    (12.0, 4.0, 207.65),
    (12.50, 0.50, 164.81),
    (13.0, 0.50, 103.83),
    (13.50, 0.50, 164.81),
    (14.0, 0.50, 103.83),
    (14.50, 0.50, 164.81),
    (15.0, 0.50, 103.83),
    (15.50, 0.50, 164.81),
    (16.0, 0.50, 110.00),
    (16.0, 2.0, 261.63),
    (16.0, 2.0, 329.63),
    (16.50, 0.50, 164.81),
    (17.0, 0.50, 110.00),
    (17.50, 0.50, 164.81),
    (18.0, 0.50, 110.00),
    (18.0, 2.0, 220.00),
    (18.0, 2.0, 261.63),
    (18.50, 0.50, 164.81),
    (19.0, 0.50, 110.00),
    (19.50, 0.50, 164.81),
    (20.0, 0.50, 103.83),
    (20.0, 2.0, 207.65),
    (20.0, 2.0, 293.66),
    (20.50, 0.50, 164.81),
    (21.0, 0.50, 103.83),
    (21.50, 0.50, 164.81),
    (22.0, 0.50, 103.83),
    (22.0, 2.0, 207.65),
    (22.0, 2.0, 246.94),
    (22.50, 0.50, 164.81),
    (23.0, 0.50, 103.83),
    (23.50, 0.50, 164.81),
    (24.0, 0.50, 110.00),
    (24.0, 1.0, 220.00),
    (24.0, 1.0, 261.63),
    (24.50, 0.50, 164.81),
    (25.0, 0.50, 110.00),
    (25.0, 1.0, 261.63),
    (25.0, 1.0, 329.63),
    (25.50, 0.50, 164.81),
    (26.0, 0.50, 110.00),
    (26.0, 2.0, 329.63),
    (26.0, 2.0, 440.00),
    (26.50, 0.50, 164.81),
    (27.0, 0.50, 110.00),
    (27.50, 0.50, 164.81),
    (28.0, 0.50, 103.83),
    (28.0, 4.0, 329.63),
    (28.0, 4.0, 415.30),
    (28.50, 0.50, 164.81),
    (29.0, 0.50, 103.83),
    (29.50, 0.50, 164.81),
    (30.0, 0.50, 103.83),
    (30.50, 0.50, 164.81),
    (31.0, 0.50, 103.83),
    (31.50, 0.50, 164.81),
];

// One cycle: AB AB C AB = 128 beats, looped by the player
const CYCLE: &[&[(f32, f32, f32)]] = &[SECTION_AB, SECTION_AB, SECTION_C, SECTION_AB];

fn build_notes() -> Vec<(f32, f32, f32)> {
    let mut notes = Vec::with_capacity(530);
    for (i, section) in CYCLE.iter().enumerate() {
        let offset = i as f32 * 32.0;
        for &(t, dur, freq) in *section {
            notes.push((t + offset, dur, freq));
        }
    }
    notes
}
